<?xml version="1.0"	encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"	
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="login">
	<insert id="join" parameterType="loginDTO">
		INSERT INTO user(u_email, u_pw, u_name, u_postcode, u_roadAddress, u_detailAddress, u_extraAddress, u_nickname)
		VALUES(#{u_email}, #{u_pw}, #{u_name}, #{u_postcode}, #{u_roadAddress}, #{u_detailAddress}, #{u_extraAddress}, #{u_nickname})
	</insert>
	
	<select id="login" parameterType="loginDTO" resultType="loginDTO">
		SELECT * FROM user WHERE u_email = #{u_email} AND u_pw = #{u_pw} AND u_confirm = 1 AND u_resign = 0 AND u_provider = #{u_provider}
	</select>
	
	<select id="findByUserid" parameterType="loginDTO" resultType="loginDTO">
		SELECT * FROM user WHERE u_email = #{u_email} AND u_confirm = 1 AND u_resign = 0 AND u_provider = #{u_provider}
	</select>
</mapper>